<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>店舗検索機能</title>
    <link rel="stylesheet" href="../../css/searchStore.css">
    <link rel="icon" type="image/png" href="../../image/もふもふアイコン.png">
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcwZwXndixEiWAuCATfCuocOPZtv1lBzI&callback=initMap">
        </script>
</head>

<body>
    <a href="#" onclick="history.back(); return false;" class="back-btn">←</a>
    <script>
        // searchStore.js から切り出した initMap 関数をここに配置
        function initMap() {
            const mapContainer = document.getElementById('map-container');
            const initialLocation = { lat: 35.5, lng: 137.5 };

            // mapがグローバルに定義されていることを確認
            map = new google.maps.Map(mapContainer, {
                center: initialLocation,
                zoom: 5,
            });
            performSearch();
        }
    </script>
    <header>
        <h1>ECサイト 店舗検索</h1>
    </header>

    <main>
        <section id="search-form-section">
            <form id="store-search-form">
                <p>エリアやキーワードを入力して店舗を検索してください。</p>

                <div class="form-group">
                    <label for="area-select">エリアで絞り込み:</label>
                    <select id="area-select" name="area">
                        <option value="">-- すべてのエリア --</option>
                        <option value="tokyo">東京都</option>
                        <option value="nagoya">愛知県</option>
                        <option value="fukuoka">福岡県</option>
                        <option value="sapporo">北海道</option>
                        <option value="yokohama">神奈川県</option>
                        <option value="sendai">宮城県</option>
                        <option value="hiroshima">広島県</option>
                        <option value="kobe">兵庫県</option>
                        <option value="kyoto">京都府</option>
                        <option value="omiya">埼玉県</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="keyword-input">キーワード:</label>
                    <input type="text" id="keyword-input" name="keyword" placeholder="例: 渋谷、カフェ、限定商品">
                </div>

                <button type="submit">検索</button>
            </form>
        </section>

        <hr>

        <section id="search-results-section">
            <h2>検索結果</h2>
            <ul id="store-list">
                <li class="initial-message">検索条件を入力して「検索」ボタンを押してください。</li>
            </ul>

            <div id="map-container" style="height: 400px; background-color: #eee; margin-top: 20px;">
                地図の埋め込みエリア
            </div>
        </section>

    </main>

    <footer>
        <small>&copy; MofuMofu Systems All Rights Reserved.</small>
    </footer>

    <script src="../../script/searchStore.js"></script>

</body>

</html>